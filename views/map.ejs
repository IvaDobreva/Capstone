<!DOCTYPE html>
<html>

  <head>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="scripts/sigma.min.js"></script>

    <link rel='stylesheet' href='/stylesheets/main.css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <style type="text/css">
    <style>
      html {height:100%;}
      body {height: 100%;}
      #sigma-container {margin:auto; border: gray; width:900px; height:500px; background-color:white; position:absolute; top:50; align-items: center;}
      .sigma-scene, .sigma-labels, .sigma-mouse {
        left: 0;
      }
    </style>
  </head>

  <body>
    <header>
      <% include templates/header.ejs %>
    </header>

    <div class="dropdown">
      <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Select a category
      </button>
      <button type="button" class="btn btn-primary" id="new-word">Add a new word</button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <% for(var i=0; i<categories.length; i++) { %>
          <div class="dropdown-item" id= <%= categories[i]['cat_name'] %>> <%= categories[i]['cat_name'] %> </div>
        <% } %>
      </div>
    </div>

    <div class="body">
    <div id='sigma-container'></div>
    </div>

    <script>
      $('#new-word').click(function() {
        window.location.href = "word/new";

      })
      $('.dropdown-item').click(function() {
        console.log($(this)[0].id);
      });

      // Initialize sigma:
      var s = new sigma({
        renderer: {
          container: document.getElementById('sigma-container'), type: 'canvas'},
          settings: {}
        }
       );

      var graph = {
      nodes: [
        { id: "n0", label: "A node", x: 0, y: 0, size: 3, color: '#008cc2' },
        { id: "n1", label: "Another node", x: 3, y: 1, size: 2, color: '#008cc2' },
        { id: "n2", label: "And a last one", x: 1, y: 3, size: 1, color: '#E57821' }
      ],
      edges: [
        { id: "e0", source: "n0", target: "n1", color: '#282c34', type:'line', size:0.5 },
        { id: "e1", source: "n1", target: "n2", color: '#282c34', type:'curve', size:1},
        { id: "e2", source: "n2", target: "n0", color: '#FF0000', type:'line', size:2}
      ]
    }

    // Load the graph in sigma
    s.graph.read(graph);
    // Ask sigma to draw it
    s.refresh();

    </script>

  </body>

</html>
